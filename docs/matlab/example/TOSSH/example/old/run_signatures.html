<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of run_signatures</title>
  <meta name="keywords" content="run_signatures">
  <meta name="description" content="% script that shows how to calculate the signatures">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="#">TOSSH</a> &gt; <a href="../index.html">example</a> &gt; <a href="index.html">old</a> &gt; run_signatures.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for TOSSH\example\old&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>run_signatures
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>% script that shows how to calculate the signatures</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% script that shows how to calculate the signatures

   Copyright (C) 2020
   This software is distributed under the GNU Public License Version 3.
   See &lt;https://www.gnu.org/licenses/gpl-3.0.en.html&gt; for details.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="calculate_signatures.html" class="code" title="function [results] = calculate_signatures(Q_mat, t_mat, P_mat, varargin)">calculate_signatures</a>	calculate_signatures Interactive signature calculation. We use cell arrays</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% script that shows how to calculate the signatures</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%   Copyright (C) 2020</span>
0004 <span class="comment">%   This software is distributed under the GNU Public License Version 3.</span>
0005 <span class="comment">%   See &lt;https://www.gnu.org/licenses/gpl-3.0.en.html&gt; for details.</span>
0006 
0007 clc
0008 
0009 <span class="comment">%% load data</span>
0010 <span class="comment">% load daily data</span>
0011 data = load(<span class="string">'Q_test.mat'</span>); <span class="comment">% [matlab_date flow]</span>
0012 Q_test = data.Q_test;
0013 data = load(<span class="string">'P_test.mat'</span>); <span class="comment">% [matlab_date precipitation]</span>
0014 P_test = data.P_test;
0015 data = load(<span class="string">'PET_test.mat'</span>); <span class="comment">% [matlab_date pot. evaporation]</span>
0016 PET_test = data.PET_test;
0017 
0018 t = datetime(Q_test(:,1),<span class="string">'ConvertFrom'</span>,<span class="string">'datenum'</span>); 
0019 Q = Q_test(:,2);
0020 P = P_test(:,2);
0021 PET = PET_test(:,2);
0022 
0023 <span class="comment">%% test interactive code</span>
0024 <span class="comment">% clc</span>
0025 <span class="comment">% use cells to allow for time series of different lengths</span>
0026 Q_mat = {Q; Q(1:floor(end/2)); Q(floor(end/2)+1:end)};
0027 t_mat = {t; t(1:floor(end/2)); t(floor(end/2)+1:end)};
0028 P_mat = {P; P(1:floor(end/2)); P(floor(end/2)+1:end)};
0029 
0030 <span class="comment">% calculate signatures - interactive</span>
0031 signatures = <a href="calculate_signatures.html" class="code" title="function [results] = calculate_signatures(Q_mat, t_mat, P_mat, varargin)">calculate_signatures</a>(Q_mat,t_mat,P_mat)
0032 
0033 <span class="comment">% you can also directly choose a selection, e.g. 2 for Sawicz2011</span>
0034 <span class="comment">% signatures_Sawicz = calculate_signatures(Q_mat,t_mat,P_mat,'signature_selection','2');</span></pre></div>
<hr><address>Generated on Wed 13-Jan-2021 15:51:42 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>