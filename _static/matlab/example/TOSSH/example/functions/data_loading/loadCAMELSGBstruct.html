<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of loadCAMELSGBstruct</title>
  <meta name="keywords" content="loadCAMELSGBstruct">
  <meta name="description" content="loadCAMELSstruct Creates struct file with CAMELS data.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">TOSSH</a> &gt; <a href="../../index.html">example</a> &gt; <a href="#">functions</a> &gt; <a href="index.html">data_loading</a> &gt; loadCAMELSGBstruct.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for TOSSH\example\functions\data_loading&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>loadCAMELSGBstruct
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>loadCAMELSstruct Creates struct file with CAMELS data.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function [CAMELS_GB_data] = loadCAMELSGBstruct() </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">loadCAMELSstruct Creates struct file with CAMELS data.
   - Loads hydro-meteorological time series and catchment attributes
   - Adjusts PET data to use standard Priestley-Taylor coefficient of 1.26
   - Uses local paths (which contain large CAMELS files)
   - Data can be found at: https://ral.ucar.edu/solutions/products/camels

   INPUT

   OUTPUT
   CAMELS_data: struct file with CAMELS data

   References
   Coxon, G., Addor, N., Bloomfield, J.P., Freer, J., Fry, M., Hannaford, 
   J., Howden, N.J., Lane, R., Lewis, M., Robinson, E.L. and Wagener, T., 
   2020. CAMELS-GB: Hydrometeorological time series and landscape 
   attributes for 671 catchments in Great Britain. Earth System Science 
   Data Discussions, pp.1-34.
   Coxon, G.; Addor, N.; Bloomfield, J.P.; Freer, J.; Fry, M.; Hannaford, 
   J.; Howden, N.J.K.; Lane, R.; Lewis, M.; Robinson, E.L.; Wagener, T.; 
   Woods, R. (2020). Catchment attributes and hydro-meteorological 
   timeseries for 671 catchments across Great Britain (CAMELS-GB). 
   NERC Environmental Information Data Centre. (Dataset). 
   https://doi.org/10.5285/8344e4f3-d2ea-44f5-8afa-86d2987543a9

   Copyright (C) 2020
   This software is distributed under the GNU Public License Version 3.
   See &lt;https://www.gnu.org/licenses/gpl-3.0.en.html&gt; for details.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="loadCatchmentCAMELSGB.html" class="code" title="function [P, PET, Q, T] = loadCatchmentCAMELSGB(ID,path)">loadCatchmentCAMELSGB</a>	loadCatchmentCAMELSGB Loads hydro-meteorological time series (P, PET, Q,</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [CAMELS_GB_data] = loadCAMELSGBstruct()</a>
0002 <span class="comment">%loadCAMELSstruct Creates struct file with CAMELS data.</span>
0003 <span class="comment">%   - Loads hydro-meteorological time series and catchment attributes</span>
0004 <span class="comment">%   - Adjusts PET data to use standard Priestley-Taylor coefficient of 1.26</span>
0005 <span class="comment">%   - Uses local paths (which contain large CAMELS files)</span>
0006 <span class="comment">%   - Data can be found at: https://ral.ucar.edu/solutions/products/camels</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%   INPUT</span>
0009 <span class="comment">%</span>
0010 <span class="comment">%   OUTPUT</span>
0011 <span class="comment">%   CAMELS_data: struct file with CAMELS data</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%   References</span>
0014 <span class="comment">%   Coxon, G., Addor, N., Bloomfield, J.P., Freer, J., Fry, M., Hannaford,</span>
0015 <span class="comment">%   J., Howden, N.J., Lane, R., Lewis, M., Robinson, E.L. and Wagener, T.,</span>
0016 <span class="comment">%   2020. CAMELS-GB: Hydrometeorological time series and landscape</span>
0017 <span class="comment">%   attributes for 671 catchments in Great Britain. Earth System Science</span>
0018 <span class="comment">%   Data Discussions, pp.1-34.</span>
0019 <span class="comment">%   Coxon, G.; Addor, N.; Bloomfield, J.P.; Freer, J.; Fry, M.; Hannaford,</span>
0020 <span class="comment">%   J.; Howden, N.J.K.; Lane, R.; Lewis, M.; Robinson, E.L.; Wagener, T.;</span>
0021 <span class="comment">%   Woods, R. (2020). Catchment attributes and hydro-meteorological</span>
0022 <span class="comment">%   timeseries for 671 catchments across Great Britain (CAMELS-GB).</span>
0023 <span class="comment">%   NERC Environmental Information Data Centre. (Dataset).</span>
0024 <span class="comment">%   https://doi.org/10.5285/8344e4f3-d2ea-44f5-8afa-86d2987543a9</span>
0025 <span class="comment">%</span>
0026 <span class="comment">%   Copyright (C) 2020</span>
0027 <span class="comment">%   This software is distributed under the GNU Public License Version 3.</span>
0028 <span class="comment">%   See &lt;https://www.gnu.org/licenses/gpl-3.0.en.html&gt; for details.</span>
0029 
0030 <span class="comment">% close all</span>
0031 
0032 <span class="comment">%% Specify paths</span>
0033 <span class="comment">% We have to be in the TOSSH directory and the CAMELS GB data should be</span>
0034 <span class="comment">% stored in folder named CAMELS_GB in the example_data directory. The</span>
0035 <span class="comment">% following folders are required:</span>
0036 <span class="comment">% ./example/example_data/CAMELS_GB/data/CAMELS_GB_*_attributes.csv</span>
0037 <span class="comment">% (8 files; contain catchment attributes)</span>
0038 <span class="comment">% ./example/example_data/CAMELS_GB/data/timeseries/CAMELS_GB_hydromet*.csv</span>
0039 <span class="comment">% (671 files; contain forcing and streamflow time series)</span>
0040 
0041 path_catchment_attributes = &quot;./example/example_data/CAMELS_GB/data/&quot;;
0042 path_time_series = &quot;./example/example_data/CAMELS_GB/data/timeseries/&quot;; 
0043 
0044 <span class="keyword">if</span> ~(exist(path_catchment_attributes) == 7)
0045     error(<span class="string">'Cannot find local path. You can download CAMELS from https://catalogue.ceh.ac.uk/documents/8344e4f3-d2ea-44f5-8afa-86d2987543a9.'</span>)
0046 <span class="keyword">elseif</span> ~(exist(path_time_series) == 7)
0047     error(<span class="string">'Cannot find local path. You can download CAMELS from https://catalogue.ceh.ac.uk/documents/8344e4f3-d2ea-44f5-8afa-86d2987543a9.'</span>)
0048 <span class="keyword">end</span>
0049 
0050 <span class="comment">%% load catchment attributes</span>
0051 <span class="comment">% We first load the catchment attribute data which are saved in several csv</span>
0052 <span class="comment">% files.</span>
0053 
0054 <span class="comment">% topography</span>
0055 <span class="comment">% gauge_id    gauge_name    gauge_lat    gauge_lon    gauge_easting    gauge_northing    gauge_elev    area    dpsbar    elev_mean    elev_min    elev_10    elev_50    elev_90    elev_max</span>
0056 <span class="comment">% [camels_GB_topo_data,camels_GB_topo_data_str] = ...</span>
0057 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_topographic_attributes.csv'));</span>
0058 camels_GB_topo_data = readtable(<span class="keyword">...</span>
0059     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_topographic_attributes.csv'</span>));
0060 
0061 <span class="comment">% climatic indices</span>
0062 <span class="comment">% gauge_id    p_mean    pet_mean    aridity    p_seasonality    frac_snow    high_prec_freq    high_prec_dur    high_prec_timing    low_prec_freq    low_prec_dur    low_prec_timing</span>
0063 <span class="comment">% [camels_GB_climate_data,camels_GB_climate_data_str] = ...</span>
0064 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_climatic_attributes.csv'));</span>
0065 camels_GB_climate_data = readtable(<span class="keyword">...</span>
0066     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_climatic_attributes.csv'</span>));
0067 
0068 <span class="comment">% hydrology</span>
0069 <span class="comment">% gauge_id    q_mean    runoff_ratio    stream_elas    slope_fdc    baseflow_index    baseflow_index_ceh    hfd_mean    Q5    Q95    high_q_freq    high_q_dur    low_q_freq    low_q_dur    zero_q_freq</span>
0070 <span class="comment">% [camels_GB_hydro_data,camels_GB_hydro_data_str] = ...</span>
0071 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_hydrologic_attributes.csv'));</span>
0072 camels_GB_hydro_data = readtable(<span class="keyword">...</span>
0073     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_hydrologic_attributes.csv'</span>));
0074 
0075 <span class="comment">% land cover</span>
0076 <span class="comment">% gauge_id    dwood_perc    ewood_perc    grass_perc    shrub_perc    crop_perc    urban_perc    inwater_perc    bares_perc    dom_land_cover</span>
0077 <span class="comment">% [camels_GB_land_data,camels_GB_land_data_str] = ...</span>
0078 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_landcover_attributes.csv'));</span>
0079 camels_GB_land_data = readtable(<span class="keyword">...</span>
0080     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_landcover_attributes.csv'</span>));
0081 
0082 <span class="comment">% soils</span>
0083 <span class="comment">% gauge_id    sand_perc    sand_perc_missing    silt_perc    silt_perc_missing    clay_perc    clay_perc_missing    organic_perc    organic_perc_missing    bulkdens    bulkdens_missing    bulkdens_5    bulkdens_50    bulkdens_95    tawc    tawc_missing    tawc_5    tawc_50    tawc_95    porosity_cosby    porosity_cosby_missing    porosity_cosby_5    porosity_cosby_50    porosity_cosby_95    porosity_hypres    porosity_hypres_missing    porosity_hypres_5    porosity_hypres_50    porosity_hypres_95    conductivity_cosby    conductivity_cosby_missing    conductivity_cosby_5    conductivity_cosby_50    conductivity_cosby_95    conductivity_hypres    conductivity_hypres_missing    conductivity_hypres_5    conductivity_hypres_50    conductivity_hypres_95    root_depth    root_depth_missing    root_depth_5    root_depth_50    root_depth_95    soil_depth_pelletier    soil_depth_pelletier_missing    soil_depth_pelletier_5    soil_depth_pelletier_50    soil_depth_pelletier_95</span>
0084 <span class="comment">% [camels_GB_soil_data,camels_GB_soil_data_str] = ...</span>
0085 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_soil_attributes.csv'));</span>
0086 camels_GB_soil_data = readtable(<span class="keyword">...</span>
0087     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_soil_attributes.csv'</span>));
0088 
0089 <span class="comment">% hydrogeology</span>
0090 <span class="comment">% gauge_id    inter_high_perc    inter_mod_perc    inter_low_perc    frac_high_perc    frac_mod_perc    frac_low_perc    no_gw_perc    low_nsig_perc    nsig_low_perc</span>
0091 <span class="comment">% [camels_GB_geology_data,camels_GB_geology_data_str] = ...</span>
0092 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_hydrogeology_attributes.csv'));</span>
0093 camels_GB_geology_data = readtable(<span class="keyword">...</span>
0094     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_hydrogeology_attributes.csv'</span>));
0095 
0096 <span class="comment">% hydrometry data</span>
0097 <span class="comment">% gauge_id    station_type    flow_period_start    flow_period_end    flow_perc_complete    bankfull_flow    structurefull_flow    q5_uncert_upper    q5_uncert_lower    q25_uncert_upper    q25_uncert_lower    q50_uncert_upper    q50_uncert_lower    q75_uncert_upper    q75_uncert_lower    q95_uncert_upper    q95_uncert_lower    q99_uncert_upper    q99_uncert_lower    quncert_meta</span>
0098 <span class="comment">% [camels_GB_hydrometry_data,camels_GB_hydrometry_data_str] = ...</span>
0099 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_hydrometry_attributes.csv'));</span>
0100 camels_GB_hydrometry_data = readtable(<span class="keyword">...</span>
0101     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_hydrometry_attributes.csv'</span>));
0102 
0103 <span class="comment">% human influences</span>
0104 <span class="comment">% gauge_id    benchmark_catch    surfacewater_abs    groundwater_abs    discharges    abs_agriculture_perc    abs_amenities_perc    abs_energy_perc    abs_environmental_perc    abs_industry_perc    abs_watersupply_perc    num_reservoir    reservoir_cap    reservoir_he    reservoir_nav    reservoir_drain    reservoir_wr    reservoir_fs    reservoir_env    reservoir_nousedata    reservoir_year_first    reservoir_year_last</span>
0105 <span class="comment">% [camels_GB_human_data,camels_GB_human_data_str] = ...</span>
0106 <span class="comment">%     xlsread(strcat(path_catchment_attributes,'CAMELS_GB_humaninfluence_attributes.csv'));</span>
0107 camels_GB_human_data = readtable(<span class="keyword">...</span>
0108     strcat(path_catchment_attributes,<span class="string">'CAMELS_GB_humaninfluence_attributes.csv'</span>));
0109 
0110 <span class="comment">%% extract data from matrices</span>
0111 
0112 <span class="comment">% topography</span>
0113 gauge_id = camels_GB_topo_data.gauge_id;
0114 gauge_name = camels_GB_topo_data.gauge_name;
0115 gauge_lat = camels_GB_topo_data.gauge_lat;
0116 gauge_lon = camels_GB_topo_data.gauge_lon;
0117 gauge_easting = camels_GB_topo_data.gauge_easting;
0118 gauge_northing = camels_GB_topo_data.gauge_northing;
0119 gauge_elev = camels_GB_topo_data.gauge_elev;
0120 area = camels_GB_topo_data.area;
0121 dpsbar = camels_GB_topo_data.dpsbar;
0122 elev_mean = camels_GB_topo_data.elev_mean;
0123 elev_min = camels_GB_topo_data.elev_min;
0124 elev_10 = camels_GB_topo_data.elev_10;
0125 elev_50 = camels_GB_topo_data.elev_50;
0126 elev_90 = camels_GB_topo_data.elev_90;
0127 elev_max = camels_GB_topo_data.elev_max;
0128 
0129 <span class="comment">% climatic indices</span>
0130 p_mean = camels_GB_climate_data.p_mean;
0131 pet_mean = camels_GB_climate_data.pet_mean;
0132 aridity = camels_GB_climate_data.aridity;
0133 p_seasonality = camels_GB_climate_data.p_seasonality;
0134 frac_snow = camels_GB_climate_data.frac_snow;
0135 high_prec_freq = camels_GB_climate_data.high_prec_freq;
0136 high_prec_dur = camels_GB_climate_data.high_prec_dur;
0137 high_prec_timing = camels_GB_climate_data.high_prec_timing;
0138 low_prec_freq = camels_GB_climate_data.low_prec_freq;
0139 low_prec_dur = camels_GB_climate_data.low_prec_dur;
0140 low_prec_timing = camels_GB_climate_data.low_prec_timing;
0141 
0142 <span class="comment">% hydrological signatures</span>
0143 q_mean = camels_GB_hydro_data.q_mean;
0144 runoff_ratio = camels_GB_hydro_data.runoff_ratio;
0145 stream_elas = camels_GB_hydro_data.stream_elas;
0146 slope_fdc = camels_GB_hydro_data.slope_fdc;
0147 baseflow_index = camels_GB_hydro_data.baseflow_index;
0148 baseflow_index_ceh = camels_GB_hydro_data.baseflow_index_ceh;
0149 hfd_mean = camels_GB_hydro_data.hfd_mean;
0150 q5 = camels_GB_hydro_data.Q5;
0151 q95 = camels_GB_hydro_data.Q95;
0152 high_q_freq = camels_GB_hydro_data.high_q_freq;
0153 high_q_dur = camels_GB_hydro_data.high_q_dur;
0154 low_q_freq = camels_GB_hydro_data.low_q_freq;
0155 low_q_dur = camels_GB_hydro_data.low_q_dur;
0156 zero_q_freq = camels_GB_hydro_data.zero_q_freq;
0157 
0158 <span class="comment">% land cover</span>
0159 dwood_perc = camels_GB_land_data.dwood_perc;
0160 ewood_perc = camels_GB_land_data.ewood_perc;
0161 grass_perc = camels_GB_land_data.grass_perc;
0162 shrub_perc = camels_GB_land_data.shrub_perc;
0163 crop_perc = camels_GB_land_data.crop_perc;
0164 urban_perc = camels_GB_land_data.urban_perc;
0165 inwater_perc = camels_GB_land_data.inwater_perc;
0166 bares_perc = camels_GB_land_data.bares_perc;
0167 dom_land_cover = camels_GB_land_data.dom_land_cover;
0168 
0169 <span class="comment">% soils</span>
0170 sand_perc = camels_GB_soil_data.sand_perc;
0171 sand_perc_missing = camels_GB_soil_data.sand_perc_missing;
0172 silt_perc = camels_GB_soil_data.silt_perc;
0173 silt_perc_missing = camels_GB_soil_data.silt_perc_missing;
0174 clay_perc = camels_GB_soil_data.clay_perc;
0175 clay_perc_missing = camels_GB_soil_data.clay_perc_missing;
0176 organic_perc = camels_GB_soil_data.organic_perc;
0177 organic_perc_missing = camels_GB_soil_data.organic_perc_missing;
0178 bulkdens = camels_GB_soil_data.bulkdens;
0179 bulkdens_missing = camels_GB_soil_data.bulkdens_missing;
0180 bulkdens_5 = camels_GB_soil_data.bulkdens_5;
0181 bulkdens_50 = camels_GB_soil_data.bulkdens_50;
0182 bulkdens_95 = camels_GB_soil_data.bulkdens_95;
0183 tawc = camels_GB_soil_data.tawc;
0184 tawc_missing = camels_GB_soil_data.tawc_missing;
0185 tawc_5 = camels_GB_soil_data.tawc_5;
0186 tawc_50 = camels_GB_soil_data.tawc_50;
0187 tawc_95 = camels_GB_soil_data.tawc_95;
0188 porosity_cosby = camels_GB_soil_data.porosity_cosby;
0189 porosity_cosby_missing = camels_GB_soil_data.porosity_cosby_missing;
0190 porosity_cosby_5 = camels_GB_soil_data.porosity_cosby_5;
0191 porosity_cosby_50 = camels_GB_soil_data.porosity_cosby_50;
0192 porosity_cosby_95 = camels_GB_soil_data.porosity_cosby_95;
0193 porosity_hypres = camels_GB_soil_data.porosity_hypres;
0194 porosity_hypres_missing = camels_GB_soil_data.porosity_hypres_missing;
0195 porosity_hypres_5 = camels_GB_soil_data.porosity_hypres_5;
0196 porosity_hypres_50 = camels_GB_soil_data.porosity_hypres_50;
0197 porosity_hypres_95 = camels_GB_soil_data.porosity_hypres_95;
0198 conductivity_cosby = camels_GB_soil_data.conductivity_cosby;
0199 conductivity_cosby_missing = camels_GB_soil_data.conductivity_cosby_missing;
0200 conductivity_cosby_5 = camels_GB_soil_data.conductivity_cosby_5;
0201 conductivity_cosby_50 = camels_GB_soil_data.conductivity_cosby_50;
0202 conductivity_cosby_95 = camels_GB_soil_data.conductivity_cosby_95;
0203 conductivity_hypres = camels_GB_soil_data.conductivity_hypres;
0204 conductivity_hypres_missing = camels_GB_soil_data.conductivity_hypres_missing;
0205 conductivity_hypres_5 = camels_GB_soil_data.conductivity_hypres_5;
0206 conductivity_hypres_50 = camels_GB_soil_data.conductivity_hypres_50;
0207 conductivity_hypres_95 = camels_GB_soil_data.conductivity_hypres_95;
0208 root_depth = camels_GB_soil_data.root_depth;
0209 root_depth_missing = camels_GB_soil_data.root_depth_missing;
0210 root_depth_5 = camels_GB_soil_data.root_depth_5;
0211 root_depth_50 = camels_GB_soil_data.root_depth_50;
0212 root_depth_95 = camels_GB_soil_data.root_depth_95;
0213 soil_depth_pelletier = camels_GB_soil_data.soil_depth_pelletier;
0214 soil_depth_pelletier_missing = camels_GB_soil_data.soil_depth_pelletier_missing;
0215 soil_depth_pelletier_5 = camels_GB_soil_data.soil_depth_pelletier_5;
0216 soil_depth_pelletier_50 = camels_GB_soil_data.soil_depth_pelletier_50;
0217 soil_depth_pelletier_95 = camels_GB_soil_data.soil_depth_pelletier_95;
0218 
0219 <span class="comment">% hydrogeology</span>
0220 inter_high_perc = camels_GB_geology_data.inter_high_perc;
0221 inter_mod_perc = camels_GB_geology_data.inter_mod_perc;
0222 inter_low_perc = camels_GB_geology_data.inter_low_perc;
0223 frac_high_perc = camels_GB_geology_data.frac_high_perc;
0224 frac_mod_perc = camels_GB_geology_data.frac_mod_perc;
0225 frac_low_perc = camels_GB_geology_data.frac_low_perc;
0226 no_gw_perc = camels_GB_geology_data.no_gw_perc;
0227 low_nsig_perc = camels_GB_geology_data.low_nsig_perc;
0228 nsig_low_perc = camels_GB_geology_data.nsig_low_perc;
0229 
0230 <span class="comment">% hydrometry</span>
0231 station_type = camels_GB_hydrometry_data.station_type;
0232 flow_period_start = camels_GB_hydrometry_data.flow_period_start;
0233 flow_period_end = camels_GB_hydrometry_data.flow_period_end;
0234 flow_perc_complete = camels_GB_hydrometry_data.flow_perc_complete;
0235 bankfull_flow = camels_GB_hydrometry_data.bankfull_flow;
0236 structurefull_flow = camels_GB_hydrometry_data.structurefull_flow;
0237 q5_uncert_upper = camels_GB_hydrometry_data.q5_uncert_upper;
0238 q5_uncert_lower = camels_GB_hydrometry_data.q5_uncert_lower;
0239 q25_uncert_upper = camels_GB_hydrometry_data.q25_uncert_upper;
0240 q25_uncert_lower = camels_GB_hydrometry_data.q25_uncert_lower;
0241 q50_uncert_upper = camels_GB_hydrometry_data.q50_uncert_upper;
0242 q50_uncert_lower = camels_GB_hydrometry_data.q50_uncert_lower;
0243 q75_uncert_upper = camels_GB_hydrometry_data.q75_uncert_upper;
0244 q75_uncert_lower = camels_GB_hydrometry_data.q75_uncert_lower;
0245 q95_uncert_upper = camels_GB_hydrometry_data.q95_uncert_upper;
0246 q95_uncert_lower = camels_GB_hydrometry_data.q95_uncert_lower;
0247 q99_uncert_upper = camels_GB_hydrometry_data.q99_uncert_upper;
0248 q99_uncert_lower = camels_GB_hydrometry_data.q99_uncert_lower;
0249 quncert_meta = camels_GB_hydrometry_data.quncert_meta;
0250 
0251 <span class="comment">% human influences</span>
0252 benchmark_catch = camels_GB_human_data.benchmark_catch;
0253 isBenchmark = zeros(size(benchmark_catch));
0254 isBenchmark(strcmp(<span class="string">'Y'</span>,benchmark_catch)) = 1;
0255 isBenchmark = logical(isBenchmark);
0256 surfacewater_abs = camels_GB_human_data.surfacewater_abs;
0257 groundwater_abs = camels_GB_human_data.groundwater_abs;
0258 discharges = camels_GB_human_data.discharges;
0259 abs_agriculture_perc = camels_GB_human_data.abs_agriculture_perc;
0260 abs_amenities_perc = camels_GB_human_data.abs_energy_perc;
0261 abs_energy_perc = camels_GB_human_data.abs_energy_perc;
0262 abs_environmental_perc = camels_GB_human_data.abs_environmental_perc;
0263 abs_industry_perc = camels_GB_human_data.abs_industry_perc;
0264 abs_watersupply_perc = camels_GB_human_data.abs_watersupply_perc;
0265 num_reservoir = camels_GB_human_data.num_reservoir;
0266 reservoir_cap = camels_GB_human_data.reservoir_cap;
0267 reservoir_he = camels_GB_human_data.reservoir_he;
0268 reservoir_nav = camels_GB_human_data.reservoir_nav;
0269 reservoir_drain = camels_GB_human_data.reservoir_drain;
0270 reservoir_wr = camels_GB_human_data.reservoir_wr;
0271 reservoir_fs = camels_GB_human_data.reservoir_fs;
0272 reservoir_env = camels_GB_human_data.reservoir_env;
0273 reservoir_nousedata = camels_GB_human_data.reservoir_nousedata;
0274 reservoir_year_first = camels_GB_human_data.reservoir_year_first;
0275 reservoir_year_last = camels_GB_human_data.reservoir_year_last;
0276 
0277 <span class="comment">%% Load hydro-meteorological time series</span>
0278 <span class="comment">% To extract the time series, we loop over all catchments.</span>
0279 P = cell(length(gauge_id),1); <span class="comment">% precipitation</span>
0280 PET = cell(length(gauge_id),1); <span class="comment">% potential evapotranspiration</span>
0281 Q = cell(length(gauge_id),1); <span class="comment">% streamflow</span>
0282 T = cell(length(gauge_id),1); <span class="comment">% temperature</span>
0283 
0284 fprintf(<span class="string">'Loading catchment data...\n'</span>)
0285 <span class="keyword">for</span> i = 1:length(gauge_id) <span class="comment">% loop over all catchments</span>
0286     
0287     <span class="keyword">if</span> mod(i,100) == 0 <span class="comment">% check progress</span>
0288         fprintf(<span class="string">'%.0f/%.0f\n'</span>,i,length(gauge_id))
0289     <span class="keyword">end</span>
0290     
0291     ID = gauge_id(i);
0292     [P{i}, PET{i}, Q{i}, T{i}] = <a href="loadCatchmentCAMELSGB.html" class="code" title="function [P, PET, Q, T] = loadCatchmentCAMELSGB(ID,path)">loadCatchmentCAMELSGB</a>(ID,path_time_series);
0293     
0294 <span class="keyword">end</span>
0295 
0296 <span class="comment">%% Create struct file with catchment attributes and time series</span>
0297 <span class="comment">% We create a Matlab structure file containing all the data, i.e. the</span>
0298 <span class="comment">% hydro-meteorological time series and the catchment attributes and</span>
0299 <span class="comment">% metadata.</span>
0300 
0301 <span class="comment">% topography</span>
0302 CAMELS_GB_data.gauge_id = gauge_id;
0303 CAMELS_GB_data.gauge_name = gauge_name;
0304 CAMELS_GB_data.gauge_lat = gauge_lat;
0305 CAMELS_GB_data.gauge_lon = gauge_lon;
0306 CAMELS_GB_data.gauge_easting = gauge_easting;
0307 CAMELS_GB_data.gauge_northing = gauge_northing;
0308 CAMELS_GB_data.gauge_elev = gauge_elev;
0309 CAMELS_GB_data.area = area;
0310 CAMELS_GB_data.dpsbar = dpsbar;
0311 CAMELS_GB_data.elev_mean = elev_mean;
0312 CAMELS_GB_data.elev_min = elev_min;
0313 CAMELS_GB_data.elev_10 = elev_10;
0314 CAMELS_GB_data.elev_50 = elev_50;
0315 CAMELS_GB_data.elev_90 = elev_90;
0316 CAMELS_GB_data.elev_max = elev_max;
0317 
0318 <span class="comment">% climatic indices</span>
0319 CAMELS_GB_data.p_mean = p_mean;
0320 CAMELS_GB_data.pet_mean = pet_mean;
0321 CAMELS_GB_data.aridity = aridity;
0322 CAMELS_GB_data.p_seasonality = p_seasonality;
0323 CAMELS_GB_data.frac_snow = frac_snow;
0324 CAMELS_GB_data.high_prec_freq = high_prec_freq;
0325 CAMELS_GB_data.high_prec_dur = high_prec_dur;
0326 CAMELS_GB_data.high_prec_timing = high_prec_timing;
0327 CAMELS_GB_data.low_prec_freq = low_prec_freq;
0328 CAMELS_GB_data.low_prec_dur = low_prec_dur;
0329 CAMELS_GB_data.low_prec_timing = low_prec_timing;
0330 
0331 <span class="comment">% hydrological signatures</span>
0332 CAMELS_GB_data.q_mean = q_mean;
0333 CAMELS_GB_data.runoff_ratio = runoff_ratio;
0334 CAMELS_GB_data.stream_elas = stream_elas;
0335 CAMELS_GB_data.slope_fdc = slope_fdc;
0336 CAMELS_GB_data.baseflow_index = baseflow_index;
0337 CAMELS_GB_data.baseflow_index_ceh = baseflow_index_ceh;
0338 CAMELS_GB_data.hfd_mean = hfd_mean;
0339 CAMELS_GB_data.q5 = q5;
0340 CAMELS_GB_data.q95 = q95;
0341 CAMELS_GB_data.high_q_freq = high_q_freq;
0342 CAMELS_GB_data.high_q_dur = high_q_dur;
0343 CAMELS_GB_data.low_q_freq = low_q_freq;
0344 CAMELS_GB_data.low_q_dur = low_q_dur;
0345 CAMELS_GB_data.zero_q_freq = zero_q_freq;
0346 
0347 <span class="comment">% land cover</span>
0348 CAMELS_GB_data.dwood_perc = dwood_perc;
0349 CAMELS_GB_data.ewood_perc = ewood_perc;
0350 CAMELS_GB_data.grass_perc = grass_perc;
0351 CAMELS_GB_data.shrub_perc = shrub_perc;
0352 CAMELS_GB_data.crop_perc = crop_perc;
0353 CAMELS_GB_data.urban_perc = urban_perc;
0354 CAMELS_GB_data.inwater_perc = inwater_perc;
0355 CAMELS_GB_data.bares_perc = bares_perc;
0356 CAMELS_GB_data.dom_land_cover = dom_land_cover;
0357 
0358 <span class="comment">% soils</span>
0359 CAMELS_GB_data.sand_perc = sand_perc;
0360 CAMELS_GB_data.sand_perc_missing = sand_perc_missing;
0361 CAMELS_GB_data.silt_perc = silt_perc;
0362 CAMELS_GB_data.silt_perc_missing = silt_perc_missing;
0363 CAMELS_GB_data.clay_perc = clay_perc;
0364 CAMELS_GB_data.clay_perc_missing = clay_perc_missing;
0365 CAMELS_GB_data.organic_perc = organic_perc;
0366 CAMELS_GB_data.organic_perc_missing = organic_perc_missing;
0367 CAMELS_GB_data.bulkdens = bulkdens;
0368 CAMELS_GB_data.bulkdens_missing = bulkdens_missing;
0369 CAMELS_GB_data.bulkdens_5 = bulkdens_5;
0370 CAMELS_GB_data.bulkdens_50 = bulkdens_50;
0371 CAMELS_GB_data.bulkdens_95 = bulkdens_95;
0372 CAMELS_GB_data.tawc = tawc;
0373 CAMELS_GB_data.tawc_missing = tawc_missing;
0374 CAMELS_GB_data.tawc_5 = tawc_5;
0375 CAMELS_GB_data.tawc_50 = tawc_50;
0376 CAMELS_GB_data.tawc_95 = tawc_95;
0377 CAMELS_GB_data.porosity_cosby = porosity_cosby;
0378 CAMELS_GB_data.porosity_cosby_missing = porosity_cosby_missing;
0379 CAMELS_GB_data.porosity_cosby_5 = porosity_cosby_5;
0380 CAMELS_GB_data.porosity_cosby_50 = porosity_cosby_50;
0381 CAMELS_GB_data.porosity_cosby_95 = porosity_cosby_95;
0382 CAMELS_GB_data.porosity_hypres = porosity_hypres;
0383 CAMELS_GB_data.porosity_hypres_missing = porosity_hypres_missing;
0384 CAMELS_GB_data.porosity_hypres_5 = porosity_hypres_5;
0385 CAMELS_GB_data.porosity_hypres_50 = porosity_hypres_50;
0386 CAMELS_GB_data.porosity_hypres_95 = porosity_hypres_95;
0387 CAMELS_GB_data.conductivity_cosby = conductivity_cosby;
0388 CAMELS_GB_data.conductivity_cosby_missing = conductivity_cosby_missing;
0389 CAMELS_GB_data.conductivity_cosby_5 = conductivity_cosby_5;
0390 CAMELS_GB_data.conductivity_cosby_50 = conductivity_cosby_50;
0391 CAMELS_GB_data.conductivity_cosby_95 = conductivity_cosby_95;
0392 CAMELS_GB_data.conductivity_hypres = conductivity_hypres;
0393 CAMELS_GB_data.conductivity_hypres_missing = conductivity_hypres_missing;
0394 CAMELS_GB_data.conductivity_hypres_5 = conductivity_hypres_5;
0395 CAMELS_GB_data.conductivity_hypres_50 = conductivity_hypres_50;
0396 CAMELS_GB_data.conductivity_hypres_95 = conductivity_hypres_95;
0397 CAMELS_GB_data.root_depth = root_depth;
0398 CAMELS_GB_data.root_depth_missing = root_depth_missing;
0399 CAMELS_GB_data.root_depth_5 = root_depth_5;
0400 CAMELS_GB_data.root_depth_50 = root_depth_50;
0401 CAMELS_GB_data.root_depth_95 = root_depth_95;
0402 CAMELS_GB_data.soil_depth_pelletier = soil_depth_pelletier;
0403 CAMELS_GB_data.soil_depth_pelletier_missing = soil_depth_pelletier_missing;
0404 CAMELS_GB_data.soil_depth_pelletier_5 = soil_depth_pelletier_5;
0405 CAMELS_GB_data.soil_depth_pelletier_50 = soil_depth_pelletier_50;
0406 CAMELS_GB_data.soil_depth_pelletier_95 = soil_depth_pelletier_95;
0407 
0408 <span class="comment">% hydrogeology</span>
0409 CAMELS_GB_data.inter_high_perc = inter_high_perc;
0410 CAMELS_GB_data.inter_mod_perc = inter_mod_perc;
0411 CAMELS_GB_data.inter_low_perc = inter_low_perc;
0412 CAMELS_GB_data.frac_high_perc = frac_high_perc;
0413 CAMELS_GB_data.frac_mod_perc = frac_mod_perc;
0414 CAMELS_GB_data.frac_low_perc = frac_low_perc;
0415 CAMELS_GB_data.no_gw_perc = no_gw_perc;
0416 CAMELS_GB_data.low_nsig_perc = low_nsig_perc;
0417 CAMELS_GB_data.nsig_low_perc = nsig_low_perc;
0418 
0419 <span class="comment">% hydrometry</span>
0420 CAMELS_GB_data.station_type = station_type;
0421 CAMELS_GB_data.flow_period_start = flow_period_start;
0422 CAMELS_GB_data.flow_period_end = flow_period_end;
0423 CAMELS_GB_data.flow_perc_complete = flow_perc_complete;
0424 CAMELS_GB_data.bankfull_flow = bankfull_flow;
0425 CAMELS_GB_data.structurefull_flow = structurefull_flow;
0426 CAMELS_GB_data.q5_uncert_upper = q5_uncert_upper;
0427 CAMELS_GB_data.q5_uncert_lower = q5_uncert_lower;
0428 CAMELS_GB_data.q25_uncert_upper = q25_uncert_upper;
0429 CAMELS_GB_data.q25_uncert_lower = q25_uncert_lower;
0430 CAMELS_GB_data.q50_uncert_upper = q50_uncert_upper;
0431 CAMELS_GB_data.q50_uncert_lower = q50_uncert_lower;
0432 CAMELS_GB_data.q75_uncert_upper = q75_uncert_upper;
0433 CAMELS_GB_data.q75_uncert_lower = q75_uncert_lower;
0434 CAMELS_GB_data.q95_uncert_upper = q95_uncert_upper;
0435 CAMELS_GB_data.q95_uncert_lower = q95_uncert_lower;
0436 CAMELS_GB_data.q99_uncert_upper = q99_uncert_upper;
0437 CAMELS_GB_data.q99_uncert_lower = q99_uncert_lower;
0438 CAMELS_GB_data.quncert_meta = quncert_meta;
0439 
0440 <span class="comment">% human influences</span>
0441 CAMELS_GB_data.benchmark_catch = benchmark_catch;
0442 CAMELS_GB_data.isBenchmark = isBenchmark;
0443 CAMELS_GB_data.surfacewater_abs = surfacewater_abs;
0444 CAMELS_GB_data.groundwater_abs = groundwater_abs;
0445 CAMELS_GB_data.discharges = discharges;
0446 CAMELS_GB_data.abs_agriculture_perc = abs_agriculture_perc;
0447 CAMELS_GB_data.abs_amenities_perc = abs_amenities_perc;
0448 CAMELS_GB_data.abs_energy_perc = abs_energy_perc;
0449 CAMELS_GB_data.abs_environmental_perc = abs_environmental_perc;
0450 CAMELS_GB_data.abs_industry_perc = abs_industry_perc;
0451 CAMELS_GB_data.abs_watersupply_perc = abs_watersupply_perc;
0452 CAMELS_GB_data.num_reservoir = num_reservoir;
0453 CAMELS_GB_data.reservoir_cap = reservoir_cap;
0454 CAMELS_GB_data.reservoir_he = reservoir_he;
0455 CAMELS_GB_data.reservoir_nav = reservoir_nav;
0456 CAMELS_GB_data.reservoir_drain = reservoir_drain;
0457 CAMELS_GB_data.reservoir_wr = reservoir_wr;
0458 CAMELS_GB_data.reservoir_fs = reservoir_fs;
0459 CAMELS_GB_data.reservoir_env = reservoir_env;
0460 CAMELS_GB_data.reservoir_nousedata = reservoir_nousedata;
0461 CAMELS_GB_data.reservoir_year_first = reservoir_year_first;
0462 CAMELS_GB_data.reservoir_year_last = reservoir_year_last;
0463 
0464 <span class="comment">% hydro-meteorological time series</span>
0465 CAMELS_GB_data.P = P;
0466 CAMELS_GB_data.PET = PET;
0467 CAMELS_GB_data.Q = Q;
0468 CAMELS_GB_data.T = T;
0469 
0470 <span class="comment">% To avoid loading CAMELS from the original files every time, we could also</span>
0471 <span class="comment">% save the struct file and just load that.</span>
0472 <span class="comment">% save('./example/example_data/CAMELS_GB_data.mat','CAMELS_GB_data')</span>
0473 
0474 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Tue 02-Feb-2021 09:27:15 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>